<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lumber ‚Üí Metric</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0d0d0d;
    --panel: #161616;
    --border: #2a2a2a;
    --accent: #e8ff47;
    --accent2: #ff6b35;
    --text: #f0f0f0;
    --muted: #555;
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'DM Mono', monospace;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 40px 16px 80px;
  }
  header { text-align: center; margin-bottom: 40px; }
  h1 {
    font-family: 'Bebas Neue', sans-serif;
    font-size: clamp(48px, 10vw, 90px);
    letter-spacing: 4px;
    line-height: 1;
    color: var(--text);
  }
  h1 span { color: var(--accent); }
  .subtitle {
    font-size: 10px;
    color: var(--muted);
    letter-spacing: 3px;
    text-transform: uppercase;
    margin-top: 8px;
  }

  /* search */
  .search-wrap {
    width: 100%;
    max-width: 560px;
    margin-bottom: 24px;
    position: relative;
  }
  .search-wrap input {
    width: 100%;
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: 4px;
    padding: 14px 44px 14px 44px;
    color: var(--text);
    font-family: 'DM Mono', monospace;
    font-size: 18px;
    outline: none;
    transition: border-color 0.2s;
  }
  .search-wrap input:focus { border-color: var(--accent); }
  .search-wrap input::placeholder { color: #333; }
  .search-icon {
    position: absolute;
    left: 14px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 18px;
    pointer-events: none;
  }
  .search-hint {
    font-size: 10px;
    color: #333;
    letter-spacing: 1px;
    margin-top: 8px;
    text-align: center;
  }
  .reset-btn {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: var(--muted);
    font-size: 18px;
    cursor: pointer;
    padding: 4px;
    display: none;
    line-height: 1;
  }
  .reset-btn:hover { color: var(--accent2); }

  /* result card */
  .result-card {
    width: 100%;
    max-width: 560px;
    background: var(--panel);
    border: 1px solid var(--accent);
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 24px;
    display: none;
    flex-direction: column;
    gap: 12px;
    animation: fadeIn 0.2s ease;
  }
  .result-card.show { display: flex; }
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(6px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  .result-nominal {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 48px;
    letter-spacing: 2px;
    color: var(--text);
    line-height: 1;
  }
  .result-nominal span { color: var(--accent); }
  .result-note {
    font-size: 10px;
    color: var(--muted);
    letter-spacing: 2px;
    text-transform: uppercase;
  }
  .result-dims {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-top: 4px;
  }
  .dim-box {
    background: #0a0a0a;
    border: 1px solid var(--border);
    border-radius: 4px;
    padding: 12px;
  }
  .dim-box .label {
    font-size: 9px;
    color: var(--muted);
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-bottom: 6px;
  }
  .dim-box .value {
    font-size: 22px;
    font-weight: 500;
    color: var(--text);
  }
  .dim-box .value.metric { color: var(--accent); }
  .dim-box .unit {
    font-size: 11px;
    color: var(--muted);
    margin-left: 4px;
  }
  .actual-note {
    font-size: 10px;
    color: var(--accent2);
    letter-spacing: 1px;
    padding-top: 4px;
    border-top: 1px solid var(--border);
  }

  /* table */
  .section-label {
    width: 100%;
    max-width: 560px;
    font-size: 10px;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--muted);
    padding: 4px 0 12px;
    border-bottom: 1px solid var(--border);
    margin-bottom: 12px;
  }
  .lumber-grid {
    width: 100%;
    max-width: 560px;
    display: flex;
    flex-direction: column;
    gap: 4px;
  }
  .lumber-row {
    display: grid;
    grid-template-columns: 90px 1fr 1fr;
    align-items: center;
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: 4px;
    padding: 10px 14px;
    cursor: pointer;
    transition: border-color 0.15s, background 0.15s;
    gap: 8px;
  }
  .lumber-row:hover, .lumber-row.active {
    border-color: var(--accent);
    background: #1c1c0a;
  }
  .lumber-row .nominal {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 22px;
    letter-spacing: 1px;
    color: var(--text);
  }
  .lumber-row .actual-in {
    font-size: 12px;
    color: var(--muted);
  }
  .lumber-row .actual-mm {
    font-size: 13px;
    color: var(--accent);
    text-align: right;
  }

  .col-header {
    width: 100%;
    max-width: 560px;
    display: grid;
    grid-template-columns: 90px 1fr 1fr;
    padding: 0 14px 8px;
    gap: 8px;
  }
  .col-header span {
    font-size: 9px;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: #333;
  }
  .col-header span:last-child { text-align: right; }
  .frac-grid {
    width: 100%;
    max-width: 560px;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 6px;
    margin-bottom: 8px;
  }
  .frac-chip {
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: 4px;
    padding: 10px 12px;
    cursor: pointer;
    transition: border-color 0.15s, background 0.15s;
    display: flex;
    flex-direction: column;
    gap: 2px;
  }
  .frac-chip:hover, .frac-chip.active { border-color: var(--accent); background: #1c1c0a; }
  .fc-label { font-family: 'Bebas Neue', sans-serif; font-size: 22px; letter-spacing: 1px; color: var(--text); }
  .fc-mm { font-size: 12px; color: var(--accent); }
</style>
</head>
<body>

<header>
  <h1>LUMBER <span>‚Üí</span> MM</h1>
  <p class="subtitle">Nominal vs Actual ‚Äî Imperial to Metric</p>
</header>

<div class="search-wrap">
  <span class="search-icon">üîç</span>
  <input type="text" id="searchInput" placeholder='2x4, 1x6, 1/4"‚Ä¶' oninput="doSearch()" autocomplete="off" autocorrect="off" spellcheck="false">
  <button class="reset-btn" id="resetBtn" onclick="resetAll()" title="Reset">‚úï</button>
  <div class="search-hint">Type a size or tap a row below</div>
</div>

<div class="result-card" id="resultCard">
  <div class="result-nominal" id="rNominal"></div>
  <div class="result-note">Nominal size (what you ask for in the store)</div>
  <div class="result-dims">
    <div class="dim-box">
      <div class="label">Actual ‚Äî Inches</div>
      <div class="value" id="rActualIn"></div>
    </div>
    <div class="dim-box">
      <div class="label">Actual ‚Äî Metric</div>
      <div class="value metric" id="rActualMm"></div>
    </div>
  </div>
  <div class="actual-note" id="rNote"></div>
</div>

<div class="section-label" style="margin-top:8px">Inch fractions ‚Üí mm</div>
<div class="frac-grid" id="fracGrid"></div>

<div class="section-label" style="margin-top:24px">Lumber ‚Äî nominal vs actual</div>
<div class="col-header">
  <span>Nominal</span>
  <span>Actual (in)</span>
  <span>Actual (mm)</span>
</div>
<div class="lumber-grid" id="lumberGrid"></div>

<script>
const lumber = [
  ['1√ó2',  0.75, 1.5],  ['1√ó3',  0.75, 2.5],  ['1√ó4',  0.75, 3.5],
  ['1√ó6',  0.75, 5.5],  ['1√ó8',  0.75, 7.25], ['1√ó10', 0.75, 9.25],
  ['1√ó12', 0.75, 11.25],
  ['2√ó2',  1.5,  1.5],  ['2√ó3',  1.5,  2.5],  ['2√ó4',  1.5,  3.5],
  ['2√ó6',  1.5,  5.5],  ['2√ó8',  1.5,  7.25], ['2√ó10', 1.5,  9.25],
  ['2√ó12', 1.5,  11.25],
  ['4√ó4',  3.5,  3.5],  ['4√ó6',  3.5,  5.5],  ['4√ó8',  3.5,  7.25],
  ['6√ó6',  5.5,  5.5],  ['6√ó8',  5.5,  7.25],
  ['1/4" ply', null, 0.25], ['1/2" ply', null, 0.5],
  ['5/8" ply', null, 0.625], ['3/4" ply', null, 0.75],
];

const fractions = [
  ['1/16"', 1/16], ['1/8"', 1/8],   ['3/16"', 3/16],
  ['1/4"',  1/4],  ['5/16"', 5/16], ['3/8"',  3/8],
  ['7/16"', 7/16], ['1/2"',  1/2],  ['9/16"', 9/16],
  ['5/8"',  5/8],  ['11/16"',11/16],['3/4"',  3/4],
  ['7/8"',  7/8],  ['1"',    1],    ['1-1/4"',1.25],
  ['1-1/2"',1.5],  ['2"',    2],    ['3"',    3],
];

function inToMm(v) { return Math.round(v * 25.4 * 10) / 10; }
function fmtIn(w, h) { return w === null ? `${h}"` : `${w}" √ó ${h}"`; }
function fmtMm(w, h) { return w === null ? `${inToMm(h)} mm` : `${inToMm(w)} √ó ${inToMm(h)} mm`; }

function showResult(item, rowEl) {
  document.querySelectorAll('.lumber-row, .frac-chip').forEach(r => r.classList.remove('active'));
  if (rowEl) rowEl.classList.add('active');
  const [nom, w, h] = item;
  document.getElementById('rNominal').innerHTML = nom.replace('√ó','<span>√ó</span>');
  document.getElementById('rActualIn').textContent = fmtIn(w, h);
  document.getElementById('rActualMm').textContent = fmtMm(w, h);
  let note = w !== null
    ? `A "${nom}" is actually ${inToMm(w)}√ó${inToMm(h)} mm`
    : `${nom} = ${inToMm(h)} mm`;
  document.getElementById('rNote').textContent = note;
  document.getElementById('resultCard').classList.add('show');
  document.getElementById('resultCard').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

// Fraction chips
function buildFracs() {
  const grid = document.getElementById('fracGrid');
  fractions.forEach(([label, val]) => {
    const chip = document.createElement('div');
    chip.className = 'frac-chip';
    chip.innerHTML = `<span class="fc-label">${label}</span><span class="fc-mm">${inToMm(val)} mm</span>`;
    chip.onclick = () => showResult([label, null, val], chip);
    grid.appendChild(chip);
  });
}

function buildGrid(items) {
  const grid = document.getElementById('lumberGrid');
  grid.innerHTML = '';
  items.forEach(item => {
    const [nom, w, h] = item;
    const row = document.createElement('div');
    row.className = 'lumber-row';
    row.innerHTML = `
      <div class="nominal">${nom}</div>
      <div class="actual-in">${fmtIn(w, h)}</div>
      <div class="actual-mm">${fmtMm(w, h)}</div>`;
    row.onclick = () => showResult(item, row);
    grid.appendChild(row);
  });
}

function resetAll() {
  document.getElementById('searchInput').value = '';
  document.getElementById('resetBtn').style.display = 'none';
  document.getElementById('resultCard').classList.remove('show');
  document.querySelectorAll('.lumber-row, .frac-chip').forEach(r => r.classList.remove('active'));
  document.querySelectorAll('.frac-chip').forEach(c => c.style.display = '');
  buildGrid(lumber);
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

function doSearch() {
  const q = document.getElementById('searchInput').value.toLowerCase().replace(/\s/g,'').replace('by','x');
  document.getElementById('resetBtn').style.display = q ? 'block' : 'none';
  // Also search fractions
  const matchedFracs = fractions.filter(([l]) => l.toLowerCase().replace(/\s/g,'').includes(q));
  const matchedLumber = lumber.filter(([nom]) => {
    const n = nom.toLowerCase().replace(/[√ó\s]/g,'x');
    return n.includes(q) || n.replace('x','').includes(q);
  });
  if (!q) { buildGrid(lumber); document.querySelectorAll('.frac-chip').forEach(c=>c.style.display=''); return; }
  buildGrid(matchedLumber);
  document.querySelectorAll('.frac-chip').forEach((c, i) => {
    c.style.display = matchedFracs.includes(fractions[i]) ? '' : 'none';
  });
  if (matchedFracs.length === 1 && matchedLumber.length === 0) {
    showResult([matchedFracs[0][0], null, matchedFracs[0][1]], document.querySelector('.frac-chip:not([style*="none"])'));
  } else if (matchedLumber.length === 1) {
    showResult(matchedLumber[0], document.querySelector('.lumber-row'));
  }
}

buildFracs();
buildGrid(lumber);
</script>
</body>
</html>
